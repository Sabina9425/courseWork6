{% extends 'base.html' %}

{% block content %}
<h1 class="mb-4">Список сообщений</h1>
<a href="{% url 'mailing_app:message_create' %}" class="btn btn-primary mb-3">Создать новое сообщение</a>

{% if messages %}
<table class="table table-bordered">
    <thead class="thead-light">
        <tr>
            <th>ID</th>
            <th>Тема</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for message in messages %}
        <tr>
            <td>{{ message.id }}</td>
            <td>{{ message.subject }}</td>
            <td>
                <a href="{% url 'mailing_app:message_detail' message.id %}" class="btn btn-info btn-sm">Просмотр</a>
                <a href="{% url 'mailing_app:message_update' message.id %}" class="btn btn-warning btn-sm">Редактировать</a>
                <a href="{% url 'mailing_app:message_delete' message.id %}" class="btn btn-danger btn-sm">Удалить</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="alert alert-info" role="alert">
    Нет доступных сообщений.
</div>
{% endif %}
{% endblock %}
